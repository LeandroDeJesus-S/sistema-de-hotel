{% extends "base.html" %}


{% block content %}

<div class="container mt-5 vh-100">
    <div class="row ">
        <div class="col-md-6">
            <img src="{{ quarto.image.url }}" class="img-thumbnail" alt="{{ quarto.image.name }}">
        </div>
        <div class="col-md-6">
            <h1>Quarto {{ quarto.classe }}</h1>
            {% if quarto.disponivel %}
                <a href="{% url "reserva" quarto.pk %}" class="btn btn-success btn-sm my-1">Reservar {{quarto.daily_price_formatted}}</a>
            {% else %}

                {% for reserva in request.user.reserva_clientes.all %}
                    {% if reserva.quarto == quarto %}

                        {% if reserva.status in 'AS' %}
                            <a href="{% url "historico_reserva" reserva.pk %}" class="btn btn-info btn-sm my-2">
                                Reservado
                            </a>
                        {% else %}
                            <a href="{% url "agendar" quarto.pk %}" class="btn btn-success btn-sm my-2">
                                <i class="fa-brands fa-whatsapp"></i> 
                                Agendar {{quarto.daily_price_formatted}}
                            </a>
                        {% endif %}

                    {% endif %}
                
                {% empty %}
                    <a href="{% url "agendar" quarto.pk %}" class="btn btn-success btn-sm my-2">
                        <i class="fa-brands fa-whatsapp"></i> 
                        Agendar {{quarto.daily_price_formatted}}
                    </a>
                {% endfor %}

            
            {% endif %}
            <p>{{ quarto.short_desc }}</p>
            <div class="row">
                                        
                {% for beneficio in benefits %}
                    <div class="col-md-6 form-check">
                        <input class="form-check-input" type="checkbox" id="flexCheckDisabled" disabled {% if beneficio in quarto.beneficio.all %} checked {% endif %}>
                        <label class="form-check-label text-light" for="{% if beneficio in quarto.beneficio.all %} flexCheckCheckedDisabled {% else %} flexCheckDisabled {% endif %} ">{{beneficio}}</label>
                    </div>
                {% endfor %}

            </div>

        </div>
        <div class="col-md-12 my-3">
            <p class="text-dark">{{quarto.long_desc}}</p>
        </div>
    </div>
</div>

{% endblock content %}